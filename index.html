<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>GÃ¼vercin PazarÄ± TR</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0f172a;color:#fff}
header{background:#020617;padding:15px;display:flex;justify-content:space-between;align-items:center}
header h1{color:#facc15;font-size:20px;margin:0}
nav button{margin-left:6px}
button{background:#facc15;border:none;padding:8px 12px;font-weight:bold;border-radius:4px;cursor:pointer}
input{width:100%;padding:8px;margin-bottom:6px}
.container{max-width:900px;margin:auto;padding:20px}
.card{background:#020617;padding:15px;border-radius:8px;margin-bottom:12px}
.small{color:#cbd5f5;font-size:14px}
.hidden{display:none}
img{width:100%;border-radius:6px;margin-bottom:8px}
.danger{background:#dc2626;color:#fff}
.image-box{position:relative}
.owner-badge{
  position:absolute;
  top:8px;
  left:8px;
  background:rgba(0,0,0,0.75);
  color:#facc15;
  padding:4px 8px;
  border-radius:6px;
  font-size:13px;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>
<body>

<header>
<h1>ğŸ•Šï¸ GÃ¼vercin PazarÄ± TR</h1>
<nav id="nav"></nav>
</header>

<div class="container">
<div id="home"></div>
<div id="profile" class="hidden"></div>

<div id="login" class="card hidden">
<h3>GiriÅŸ</h3>
<input id="loginUser" placeholder="KullanÄ±cÄ± adÄ±">
<input id="loginPass" type="password" placeholder="Åifre">
<button onclick="loginUserFunc()">GiriÅŸ Yap</button>
</div>

<div id="register" class="card hidden">
<h3>Ãœye Ol</h3>
<input id="regUser" placeholder="KullanÄ±cÄ± adÄ±">
<input id="regPass" type="password" placeholder="Åifre">
<button onclick="registerUser()">Ãœye Ol</button>
</div>
</div>

<script>
/* ğŸ”‘ DOM REFERANSLARI (KRÄ°TÄ°K) */
const loginBox = document.getElementById("login");
const registerBox = document.getElementById("register");
const home = document.getElementById("home");
const profile = document.getElementById("profile");
const nav = document.getElementById("nav");

/* ğŸ’¾ VERÄ°LER */
let users = JSON.parse(localStorage.getItem("users")) || [];
let auctions = JSON.parse(localStorage.getItem("auctions")) || [];
let currentUser = localStorage.getItem("user");

/* ğŸ” NAV */
function renderNav(){
  nav.innerHTML = currentUser ?
  `<button onclick="showHome()">Ana Sayfa</button>
   <button onclick="showProfile('${currentUser}')">Profilim</button>
   <button onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>`
  :
  `<button onclick="toggleBox('login')">GiriÅŸ</button>
   <button onclick="toggleBox('register')">Ãœye Ol</button>`;
}
renderNav();

function toggleBox(id){
  loginBox.classList.add("hidden");
  registerBox.classList.add("hidden");
  document.getElementById(id).classList.toggle("hidden");
}

function logout(){
  localStorage.removeItem("user");
  location.reload();
}

/* ğŸ‘¤ ÃœYELÄ°K */
function registerUser(){
  if(!regUser.value || !regPass.value) return alert("Eksik bilgi");
  if(users.find(u=>u.username===regUser.value)) return alert("KullanÄ±cÄ± var");
  users.push({username:regUser.value,password:regPass.value});
  localStorage.setItem("users",JSON.stringify(users));
  alert("Ãœyelik baÅŸarÄ±lÄ±");
}

function loginUserFunc(){
  const u = users.find(x=>x.username===loginUser.value && x.password===loginPass.value);
  if(!u) return alert("HatalÄ± giriÅŸ");
  localStorage.setItem("user",loginUser.value);
  location.reload();
}

/* ğŸ“„ SAYFALAR */
function showHome(){
  profile.classList.add("hidden");
  home.classList.remove("hidden");
  renderHome();
}

function showProfile(username){
  home.classList.add("hidden");
  profile.classList.remove("hidden");

  let list = auctions.filter(a=>a.owner===username);
  profile.innerHTML = `
  <h2>ğŸ‘¤ ${username}</h2>
  <h3>ğŸ•Šï¸ AÃ§tÄ±ÄŸÄ± Ä°lanlar</h3>
  ${list.length ? list.map(a=>`<div class="card">${a.name} - ${a.price} â‚º</div>`).join("") : "Ä°lan yok"}
  `;
}

/* â• Ä°LAN */
function addAuction(){
  const n = name.value;
  const p = price.value;
  const f = photo.files[0];
  if(!n || !p || !f) return alert("Eksik bilgi");

  const r = new FileReader();
  r.onload = e => {
    auctions.push({
      id:Date.now(),
      name:n,
      price:Number(p),
      photo:e.target.result,
      owner:currentUser,
      start:Date.now(),
      bids:[]
    });
    localStorage.setItem("auctions",JSON.stringify(auctions));
    renderHome();
  };
  r.readAsDataURL(f);
}

/* ğŸ’° TEKLÄ°F */
function bid(id){
  if(!currentUser) return alert("GiriÅŸ yapmalÄ±sÄ±n");
  const a = auctions.find(x=>x.id===id);
  if(Date.now()>a.start+86400000) return alert("Ä°hale bitti");
  const amt = prompt("Teklif â‚º");
  if(!amt) return;
  a.bids.push({user:currentUser,amount:Number(amt)});
  a.price = Number(amt);
  localStorage.setItem("auctions",JSON.stringify(auctions));
  renderHome();
}

/* ğŸ—‘ï¸ SÄ°L */
function deleteAuction(id){
  if(!confirm("Ä°lan silinsin mi?")) return;
  auctions = auctions.filter(a=>a.id!==id);
  localStorage.setItem("auctions",JSON.
